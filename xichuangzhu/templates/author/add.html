{% extends "layout.html" %}
{% from "macro/form.html" import field_errors, horizontal_field %}

{% block page_title %}添加文学家{% endblock %}
{% block page_id %}page-add-author{% endblock %}

{% block body %}
    <div class="container">
        <form id="form-add-author" class="form-horizontal" role="form" method="post"
              action="{{ url_for('author.add') }}">
            <fieldset>
                <legend>添加文学家</legend>

                {{ form.csrf_token }}

                {{ horizontal_field(form.name, length=3) }}

                {{ horizontal_field(form.dynasty_id, length=3) }}

                <div class="form-group">
                    {{ form.birth_year.label(class="col-md-2 control-label") }}
                    <div class="col-md-3">
                        <div class="input-group">
                            {{ form.birth_year(class="form-control") }}
                            <span class="input-group-addon">年</span>
                        </div>
                        {{ field_errors(form.birth_year) }}
                    </div>
                </div>

                <div class="form-group">
                    {{ form.death_year.label(class="col-md-2 control-label") }}
                    <div class="col-md-3">
                        <div class="input-group">
                            {{ form.death_year(class="form-control") }}
                            <span class="input-group-addon">年</span>
                        </div>
                        {{ field_errors(form.death_year) }}
                    </div>
                </div>

                {{ horizontal_field(form.intro, rows=10) }}

                <div class="form-group">
                    <div class="col-md-6 col-md-offset-2">
                        <input type="submit" value="提交" class="btn btn-sm btn-primary"/>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
{% endblock %}